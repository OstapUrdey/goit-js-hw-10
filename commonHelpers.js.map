{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst dateTimePicker = document.getElementById(\"datetime-picker\");\nconst startButtom = document.querySelector(\"buttom[data-start]\");\nconst daysSpan = document.querySelector(\"[data-days]\");\nconst hoursSpan = document.querySelector(\"[data-hours]\");\nconst minutesSpan = document.querySelector(\"[data-minutes]\");\nconst secondsSpan = document.querySelector(\"[data-minutes]\");\n\nlet timerInterval;\nlet userSelectedDate;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if(userSelectedDate <= new Date()) {\niziToast.error({\n    title: \"Error\",\n    message: \"Please choose a date in the future\",\n});\nstartButtom.disabled = true;}\nelse {\n    startButtom.disabled = false;\n   }\n  }\n};\n\nflatpickr(dateTimePicker);\n\nstartButtom.addEventListener(\"click\", () => {\n    startButtom.disabled = true;\n    dateTimePicker.disabled = true;\n\n    timerInterval = setInterval(() => {\n        const now = new Date;\n        const remainingTime = userSelectedDate - now;\n\n        if (remainingTime <= 0) {\n            clearInterval(timerInterval);\n            dateTimePicker = false;\n            updateTimer(0);\n            iziToast.success({\n                title: \"Completed\",\n                message: \"Countdown finished\",\n            });\n            return;\n        }\n        updateTimer(remainingTime);\n    }, 1000)\n});\n\n"],"names":["dateTimePicker","startButtom","timerInterval","userSelectedDate","flatpickr","remainingTime","iziToast"],"mappings":"+IAMA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAc,SAAS,cAAc,oBAAoB,EAC9C,SAAS,cAAc,aAAa,EACnC,SAAS,cAAc,cAAc,EACnC,SAAS,cAAc,gBAAgB,EACvC,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EACAC,EAqBJC,EAAUJ,CAAc,EAExBC,EAAY,iBAAiB,QAAS,IAAM,CACxCA,EAAY,SAAW,GACvBD,EAAe,SAAW,GAE1BE,EAAgB,YAAY,IAAM,CAE9B,MAAMG,EAAgBF,EADV,IAAI,KAGhB,GAAIE,GAAiB,EAAG,CACpB,cAAcH,CAAa,EAC3BF,EAAiB,GACjB,YAAY,CAAC,EACbM,EAAS,QAAQ,CACb,MAAO,YACP,QAAS,oBACzB,CAAa,EACD,MACH,CACD,YAAYD,CAAa,CAC5B,EAAE,GAAI,CACX,CAAC"}